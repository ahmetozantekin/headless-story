var t,e;function o(){}function n(t,e,o,n,r){t.__svelte_meta={loc:{file:e,line:o,column:n,char:r}}}function r(t){return t()}function i(){return Object.create(null)}function s(t){t.forEach(r)}function l(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c,u;function d(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function m(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function f(){return h(" ")}function _(){return h("")}function g(t){const e={};for(const o of t)e[o.name]=o.value;return e}function w(t){u=t}function $(){if(!u)throw new Error("Function called outside component initialization");return u}function x(t){$().$$.on_mount.push(t)}function v(t){$().$$.on_destroy.push(t)}function y(t,e){const o=t.$$.callbacks[e.type];o&&o.slice().forEach((t=>t.call(this,e)))}(t=self.document)&&!t.getElementById("livereloadscript")&&((e=t.createElement("script")).async=1,e.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e));const k=[],E=[];let S=[];const C=[],I=Promise.resolve();let j=!1;function O(t){S.push(t)}const B=new Set;let R=0;function z(){if(0!==R)return;const t=u;do{try{for(;R<k.length;){const t=k[R];R++,w(t),T(t.$$)}}catch(t){throw k.length=0,R=0,t}for(w(null),k.length=0,R=0;E.length;)E.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];B.has(e)||(B.add(e),e())}S.length=0}while(k.length);for(;C.length;)C.pop()();j=!1,B.clear(),w(t)}function T(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const M=new Set;let L,A;function D(){L={r:0,c:[],p:L}}function N(){L.r||s(L.c),L=L.p}function P(t,e){t&&t.i&&(M.delete(t),t.i(e))}function H(t,e,o,n){if(t&&t.o){if(M.has(t))return;M.add(t),L.c.push((()=>{M.delete(t),n&&(o&&t.d(1),n())})),t.o(e)}else n&&n()}function X(t){t&&t.c()}function Y(t,e,o,n){const{fragment:i,after_update:a}=t.$$;i&&i.m(e,o),n||O((()=>{const e=t.$$.on_mount.map(r).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):s(e),t.$$.on_mount=[]})),a.forEach(O)}function q(t,e){const o=t.$$;null!==o.fragment&&(!function(t){const e=[],o=[];S.forEach((n=>-1===t.indexOf(n)?e.push(n):o.push(n))),o.forEach((t=>t())),S=e}(o.after_update),s(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(k.push(t),j||(j=!0,I.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(t,e,n,r,l,a,c,d=[-1]){const b=u;w(t);const m=t.$$={fragment:null,ctx:[],props:a,update:o,not_equal:l,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(b?b.$$.context:[])),callbacks:i(),dirty:d,skip_bound:!1,root:e.target||b.$$.root};c&&c(m.root);let h=!1;if(m.ctx=n?n(t,e.props||{},((e,o,...n)=>{const r=n.length?n[0]:o;return m.ctx&&l(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),h&&F(t,e)),o})):[],m.update(),h=!0,s(m.before_update),m.fragment=!!r&&r(m.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);m.fragment&&m.fragment.l(t),t.forEach(p)}else m.fragment&&m.fragment.c();e.intro&&P(t.$$.fragment),Y(t,e.target,e.anchor,e.customElement),z()}w(b)}function G(t,e){document.dispatchEvent(function(t,e,{bubbles:o=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,o,n,e),r}(t,Object.assign({version:"3.58.0"},e),{bubbles:!0}))}function J(t,e){G("SvelteDOMInsert",{target:t,node:e}),function(t,e){t.appendChild(e)}(t,e)}function K(t,e,o){G("SvelteDOMInsert",{target:t,node:e,anchor:o}),function(t,e,o){t.insertBefore(e,o||null)}(t,e,o)}function Q(t){G("SvelteDOMRemove",{node:t}),p(t)}function V(t,e,o,n,r,i,s){const l=!0===n?["capture"]:n?Array.from(Object.keys(n)):[];r&&l.push("preventDefault"),i&&l.push("stopPropagation"),s&&l.push("stopImmediatePropagation"),G("SvelteDOMAddEventListener",{node:t,event:e,handler:o,modifiers:l});const a=function(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}(t,e,o,n);return()=>{G("SvelteDOMRemoveEventListener",{node:t,event:e,handler:o,modifiers:l}),a()}}function W(t,e,o){!function(t,e,o){null==o?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}(t,e,o),null==o?G("SvelteDOMRemoveAttribute",{node:t,attribute:e}):G("SvelteDOMSetAttribute",{node:t,attribute:e,value:o})}function Z(t,e){e=""+e,t.data!==e&&(G("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function tt(t){if(!("string"==typeof t||t&&"object"==typeof t&&"length"in t)){let e="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&t&&Symbol.iterator in t&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function et(t,e,o){for(const n of Object.keys(e))~o.indexOf(n)||console.warn(`<${t}> received an unexpected slot "${n}".`)}"function"==typeof HTMLElement&&(A=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(r).filter(l);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,o){this[t]=o}disconnectedCallback(){s(this.$$.on_disconnect)}$destroy(){q(this,1),this.$destroy=o}$on(t,e){if(!l(e))return o;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});const ot="src/webcomponent/components/ModalControllers/controllers.svelte";function nt(t){let e,r,i,a,c,u,d,p;const b={c:function(){e=m("div"),r=m("button"),i=f(),a=m("button"),c=f(),u=m("button"),this.c=o,W(r,"class","web-stories__modal__controllers-prev"),n(r,ot,9,2,203),W(a,"class","web-stories__modal__controllers-next"),n(a,ot,10,2,277),W(u,"class","web-stories__modal__controllers-close"),n(u,ot,11,2,351),W(e,"class","web-stories__modal__controllers"),n(e,ot,8,0,155)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,n){K(o,e,n),J(e,r),J(e,i),J(e,a),J(e,c),J(e,u),d||(p=[V(r,"click",(function(){l(t[0])&&t[0].apply(this,arguments)}),!1,!1,!1,!1),V(a,"click",(function(){l(t[1])&&t[1].apply(this,arguments)}),!1,!1,!1,!1),V(u,"click",(function(){l(t[2])&&t[2].apply(this,arguments)}),!1,!1,!1,!1)],d=!0)},p:function(e,[o]){t=e},i:o,o:o,d:function(t){t&&Q(e),d=!1,s(p)}};return G("SvelteRegisterBlock",{block:b,id:nt.name,type:"component",source:"",ctx:t}),b}function rt(t,e,o){let{$$slots:n={},$$scope:r}=e;et("modal-controllers",n,[]);let{prev:i=(()=>{})}=e,{next:s=(()=>{})}=e,{close:l=(()=>{})}=e;const a=["prev","next","close"];return Object.keys(e).forEach((t=>{~a.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<modal-controllers> was created with unknown prop '${t}'`)})),t.$$set=t=>{"prev"in t&&o(0,i=t.prev),"next"in t&&o(1,s=t.next),"close"in t&&o(2,l=t.close)},t.$capture_state=()=>({prev:i,next:s,close:l}),t.$inject_state=t=>{"prev"in t&&o(0,i=t.prev),"next"in t&&o(1,s=t.next),"close"in t&&o(2,l=t.close)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,s,l]}class it extends A{constructor(t){super(),U(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},rt,nt,a,{prev:0,next:1,close:2},null),t&&(t.target&&K(t.target,this,t.anchor),t.props&&(this.$set(t.props),z()))}static get observedAttributes(){return["prev","next","close"]}get prev(){return this.$$.ctx[0]}set prev(t){this.$$set({prev:t}),z()}get next(){return this.$$.ctx[1]}set next(t){this.$$set({next:t}),z()}get close(){return this.$$.ctx[2]}set close(t){this.$$set({close:t}),z()}}customElements.define("modal-controllers",it);function st(t){let e,r,i;const a={c:function(){e=m("div"),this.c=o,W(e,"class","web-stories__backdrop"),W(e,"tabindex",-1),W(e,"role","button"),n(e,"src/webcomponent/components/ModalBackdrop/backdrop.svelte",6,0,92)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,n){K(o,e,n),r||(i=[V(e,"click",(function(){l(t[0])&&t[0].apply(this,arguments)}),!1,!1,!1,!1),V(e,"keydown",t[1],!1,!1,!1,!1)],r=!0)},p:function(e,[o]){t=e},i:o,o:o,d:function(t){t&&Q(e),r=!1,s(i)}};return G("SvelteRegisterBlock",{block:a,id:st.name,type:"component",source:"",ctx:t}),a}function lt(t,e,o){let{$$slots:n={},$$scope:r}=e;et("modal-backdrop",n,[]);let{close:i=(()=>{})}=e;const s=["close"];return Object.keys(e).forEach((t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<modal-backdrop> was created with unknown prop '${t}'`)})),t.$$set=t=>{"close"in t&&o(0,i=t.close)},t.$capture_state=()=>({close:i}),t.$inject_state=t=>{"close"in t&&o(0,i=t.close)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,function(e){y.call(this,t,e)}]}class at extends A{constructor(t){super(),U(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},lt,st,a,{close:0},null),t&&(t.target&&K(t.target,this,t.anchor),t.props&&(this.$set(t.props),z()))}static get observedAttributes(){return["close"]}get close(){return this.$$.ctx[0]}set close(t){this.$$set({close:t}),z()}}customElements.define("modal-backdrop",at);function ct(t){let e;const r={c:function(){e=m("div"),this.c=o,W(e,"class","web-stories__thumbnails__loader"),n(e,"src/webcomponent/components/Loader/loader.svelte",2,0,39)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,o){K(t,e,o)},p:o,i:o,o:o,d:function(t){t&&Q(e)}};return G("SvelteRegisterBlock",{block:r,id:ct.name,type:"component",source:"",ctx:t}),r}function ut(t,e){let{$$slots:o={},$$scope:n}=e;et("modal-loader",o,[]);const r=[];return Object.keys(e).forEach((t=>{~r.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<modal-loader> was created with unknown prop '${t}'`)})),[]}class dt extends A{constructor(t){super(),U(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},ut,ct,a,{},null),t&&t.target&&K(t.target,this,t.anchor)}}customElements.define("modal-loader",dt);const pt="src/webcomponent/components/Bubble/bubble.svelte";function bt(t){let e,r,i,s,l,a,c;const u={c:function(){e=m("button"),r=m("div"),i=m("img"),this.c=o,W(i,"class","thumb-img"),d(i.src,s=t[2])||W(i,"src",s),W(i,"alt",l=t[3]??`Story Photo ${t[0]}`),n(i,pt,11,4,278),W(r,"class","thumb"),n(r,pt,10,2,254),W(e,"class","bubble"),n(e,pt,9,0,187)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,n){K(o,e,n),J(e,r),J(r,i),a||(c=V(e,"click",t[4],!1,!1,!1,!1),a=!0)},p:function(t,[e]){4&e&&!d(i.src,s=t[2])&&W(i,"src",s),9&e&&l!==(l=t[3]??`Story Photo ${t[0]}`)&&W(i,"alt",l)},i:o,o:o,d:function(t){t&&Q(e),a=!1,c()}};return G("SvelteRegisterBlock",{block:u,id:bt.name,type:"component",source:"",ctx:t}),u}function mt(t,e,o){let{$$slots:n={},$$scope:r}=e;et("thumbnail-bubble",n,[]);let{index:i=0}=e,{onClickThumbnail:s=(()=>{})}=e,{thumbImage:l=""}=e,{altImage:a=""}=e;const c=["index","onClickThumbnail","thumbImage","altImage"];Object.keys(e).forEach((t=>{~c.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<thumbnail-bubble> was created with unknown prop '${t}'`)}));return t.$$set=t=>{"index"in t&&o(0,i=t.index),"onClickThumbnail"in t&&o(1,s=t.onClickThumbnail),"thumbImage"in t&&o(2,l=t.thumbImage),"altImage"in t&&o(3,a=t.altImage)},t.$capture_state=()=>({index:i,onClickThumbnail:s,thumbImage:l,altImage:a}),t.$inject_state=t=>{"index"in t&&o(0,i=t.index),"onClickThumbnail"in t&&o(1,s=t.onClickThumbnail),"thumbImage"in t&&o(2,l=t.thumbImage),"altImage"in t&&o(3,a=t.altImage)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,s,l,a,()=>s(i)]}class ht extends A{constructor(t){super(),U(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},mt,bt,a,{index:0,onClickThumbnail:1,thumbImage:2,altImage:3},null),t&&(t.target&&K(t.target,this,t.anchor),t.props&&(this.$set(t.props),z()))}static get observedAttributes(){return["index","onClickThumbnail","thumbImage","altImage"]}get index(){return this.$$.ctx[0]}set index(t){this.$$set({index:t}),z()}get onClickThumbnail(){return this.$$.ctx[1]}set onClickThumbnail(t){this.$$set({onClickThumbnail:t}),z()}get thumbImage(){return this.$$.ctx[2]}set thumbImage(t){this.$$set({thumbImage:t}),z()}get altImage(){return this.$$.ctx[3]}set altImage(t){this.$$set({altImage:t}),z()}}customElements.define("thumbnail-bubble",ht);var ft={delay:t=>Number(t)??2,getSource:async t=>{const e=await fetch(t);return await e.json()}};class _t{StoryChange(t,e){const o=new CustomEvent("StoryChange",{detail:{direction:t,currentIndex:e}});window.dispatchEvent(o)}StoryOpen(t){const e=new CustomEvent("StoryOpen",{detail:{currentIndex:t}});window.dispatchEvent(e)}StoryClose(t){const e=new CustomEvent("StoryClose",{detail:{currentIndex:t}});window.dispatchEvent(e)}StoryLoaded(t){const e=new CustomEvent("StoryLoaded",{detail:{loaded:t}});window.dispatchEvent(e)}}const gt="src/webcomponent/story.svelte";function wt(t,e,o){const n=t.slice();return n[14]=e[o],n[16]=o,n}function $t(t,e,o){const n=t.slice();return n[14]=e[o],n[16]=o,n}function xt(t){let e,n;e=new dt({$$inline:!0});const r={c:function(){X(e.$$.fragment)},m:function(t,o){Y(e,t,o),n=!0},p:o,i:function(t){n||(P(e.$$.fragment,t),n=!0)},o:function(t){H(e.$$.fragment,t),n=!1},d:function(t){q(e,t)}};return G("SvelteRegisterBlock",{block:r,id:xt.name,type:"else",source:"(109:2) {:else}",ctx:t}),r}function vt(t){let e,o,r,i=t[0];tt(i);let s=[];for(let e=0;e<i.length;e+=1)s[e]=kt($t(t,i,e));const l=t=>H(s[t],1,1,(()=>{s[t]=null})),a={c:function(){e=m("div"),o=m("div");for(let t=0;t<s.length;t+=1)s[t].c();W(o,"class","bubbles"),n(o,gt,95,6,2198),W(e,"class","story-bubbles"),n(e,gt,94,4,2164)},m:function(t,n){K(t,e,n),J(e,o);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(o,null);r=!0},p:function(t,e){if(257&e){let n;for(i=t[0],tt(i),n=0;n<i.length;n+=1){const r=$t(t,i,n);s[n]?(s[n].p(r,e),P(s[n],1)):(s[n]=kt(r),s[n].c(),P(s[n],1),s[n].m(o,null))}for(D(),n=i.length;n<s.length;n+=1)l(n);N()}},i:function(t){if(!r){for(let t=0;t<i.length;t+=1)P(s[t]);r=!0}},o:function(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)H(s[t]);r=!1},d:function(t){t&&Q(e),b(s,t)}};return G("SvelteRegisterBlock",{block:a,id:vt.name,type:"if",source:"(94:2) {#if !loading}",ctx:t}),a}function yt(t){let e,o;e=new ht({props:{index:t[16],onClickThumbnail:t[8],thumbImage:t[0][t[16]]?.thumb_image,altImage:t[0][t[16]]?.image_alt},$$inline:!0});const n={c:function(){X(e.$$.fragment)},m:function(t,n){Y(e,t,n),o=!0},p:function(t,o){const n={};1&o&&(n.thumbImage=t[0][t[16]]?.thumb_image),1&o&&(n.altImage=t[0][t[16]]?.image_alt),e.$set(n)},i:function(t){o||(P(e.$$.fragment,t),o=!0)},o:function(t){H(e.$$.fragment,t),o=!1},d:function(t){q(e,t)}};return G("SvelteRegisterBlock",{block:n,id:yt.name,type:"if",source:"(98:10) {#if story[i]?.thumb_image}",ctx:t}),n}function kt(t){let e,o,n=t[0][t[16]]?.thumb_image&&yt(t);const r={c:function(){n&&n.c(),e=_()},m:function(t,r){n&&n.m(t,r),K(t,e,r),o=!0},p:function(t,o){t[0][t[16]]?.thumb_image?n?(n.p(t,o),1&o&&P(n,1)):(n=yt(t),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(D(),H(n,1,1,(()=>{n=null})),N())},i:function(t){o||(P(n),o=!0)},o:function(t){H(n),o=!1},d:function(t){n&&n.d(t),t&&Q(e)}};return G("SvelteRegisterBlock",{block:r,id:kt.name,type:"each",source:"(97:8) {#each story as photo, i}",ctx:t}),r}function Et(t){let e,o,r,i,s,l,a,c,u,d,p,h,_,g=t[0];tt(g);let w=[];for(let e=0;e<g.length;e+=1)w[e]=St(wt(t,g,e));let $=t[0][t[3]]?.story_image&&Ct(t),x=t[0][t[3]]?.story_caption&&Ot(t),v=t[0][t[3]]?.external_link?.url&&Bt(t);d=new it({props:{prev:t[6],next:t[5],close:t[7]},$$inline:!0}),h=new at({props:{close:t[7]},$$inline:!0});const y={c:function(){e=m("div"),o=m("div"),r=m("div");for(let t=0;t<w.length;t+=1)w[t].c();i=f(),s=m("div"),l=m("div"),$&&$.c(),a=f(),x&&x.c(),c=f(),v&&v.c(),u=f(),X(d.$$.fragment),p=f(),X(h.$$.fragment),W(r,"class","web-stories__modal__progress"),W(r,"style",`--delay:${t[4]}s;`),n(r,gt,116,6,2678),W(l,"class","web-stories__modal__list__gallery"),n(l,gt,132,8,3145),W(s,"class","web-stories__modal__list"),n(s,gt,131,6,3098),W(o,"class","web-stories__modal"),n(o,gt,115,4,2639),W(e,"class","web-stories"),n(e,gt,114,2,2609)},m:function(t,n){K(t,e,n),J(e,o),J(o,r);for(let t=0;t<w.length;t+=1)w[t]&&w[t].m(r,null);J(o,i),J(o,s),J(s,l),$&&$.m(l,null),J(s,a),x&&x.m(s,null),J(s,c),v&&v.m(s,null),J(o,u),Y(d,o,null),J(e,p),Y(h,e,null),_=!0},p:function(t,e){if(9&e){let o;for(g=t[0],tt(g),o=0;o<g.length;o+=1){const n=wt(t,g,o);w[o]?w[o].p(n,e):(w[o]=St(n),w[o].c(),w[o].m(r,null))}for(;o<w.length;o+=1)w[o].d(1);w.length=g.length}t[0][t[3]]?.story_image?$?$.p(t,e):($=Ct(t),$.c(),$.m(l,null)):$&&($.d(1),$=null),t[0][t[3]]?.story_caption?x?x.p(t,e):(x=Ot(t),x.c(),x.m(s,c)):x&&(x.d(1),x=null),t[0][t[3]]?.external_link?.url?v?v.p(t,e):(v=Bt(t),v.c(),v.m(s,null)):v&&(v.d(1),v=null)},i:function(t){_||(P(d.$$.fragment,t),P(h.$$.fragment,t),_=!0)},o:function(t){H(d.$$.fragment,t),H(h.$$.fragment,t),_=!1},d:function(t){t&&Q(e),b(w,t),$&&$.d(),x&&x.d(),v&&v.d(),q(d),q(h)}};return G("SvelteRegisterBlock",{block:y,id:Et.name,type:"if",source:"(114:0) {#if show}",ctx:t}),y}function St(t){let e,o;const r={c:function(){e=m("div"),W(e,"class",o="web-stories__modal__progress__bar \n            "+(t[16]===t[3]?"animation-start":t[16]<=t[3]?"animation-filled":"")),n(e,gt,118,10,2797)},m:function(t,o){K(t,e,o)},p:function(t,n){8&n&&o!==(o="web-stories__modal__progress__bar \n            "+(t[16]===t[3]?"animation-start":t[16]<=t[3]?"animation-filled":""))&&W(e,"class",o)},d:function(t){t&&Q(e)}};return G("SvelteRegisterBlock",{block:r,id:St.name,type:"each",source:"(118:8) {#each story as photo, i}",ctx:t}),r}function Ct(t){let e;function o(t,e){return"video"===t[0][t[3]]?.type?jt:It}let n=o(t),r=n(t);const i={c:function(){r.c(),e=_()},m:function(t,o){r.m(t,o),K(t,e,o)},p:function(t,i){n===(n=o(t))&&r?r.p(t,i):(r.d(1),r=n(t),r&&(r.c(),r.m(e.parentNode,e)))},d:function(t){r.d(t),t&&Q(e)}};return G("SvelteRegisterBlock",{block:i,id:Ct.name,type:"if",source:"(134:10) {#if story[activeSlide]?.story_image}",ctx:t}),i}function It(t){let e,o,r;const i={c:function(){e=m("img"),W(e,"data-src",""),d(e.src,o=t[0][t[3]]?.story_image)||W(e,"src",o),W(e,"alt",r=t[0][t[3]]?.alt_text??`Story Photo ${t[3]}`),n(e,gt,144,14,3623)},m:function(t,o){K(t,e,o)},p:function(t,n){9&n&&!d(e.src,o=t[0][t[3]]?.story_image)&&W(e,"src",o),9&n&&r!==(r=t[0][t[3]]?.alt_text??`Story Photo ${t[3]}`)&&W(e,"alt",r)},d:function(t){t&&Q(e)}};return G("SvelteRegisterBlock",{block:i,id:It.name,type:"else",source:"(144:12) {:else}",ctx:t}),i}function jt(t){let e,o,r,i,s;const l={c:function(){e=m("video"),o=m("track"),r=m("source"),s=h("\n                Your browser does not support HTML video."),W(o,"kind","captions"),n(o,gt,136,16,3348),d(r.src,i=t[0][t[3]]?.story_image)||W(r,"src",i),W(r,"type","video/mp4"),n(r,gt,137,16,3390),e.autoplay=!0,e.loop=!0,n(e,gt,135,14,3310)},m:function(t,n){K(t,e,n),J(e,o),J(e,r),J(e,s)},p:function(t,e){9&e&&!d(r.src,i=t[0][t[3]]?.story_image)&&W(r,"src",i)},d:function(t){t&&Q(e)}};return G("SvelteRegisterBlock",{block:l,id:jt.name,type:"if",source:'(135:12) {#if story[activeSlide]?.type === \\"video\\"}',ctx:t}),l}function Ot(t){let e,o,r,i=t[0][t[3]]?.story_caption+"";const s={c:function(){e=m("div"),o=m("span"),r=h(i),n(o,gt,156,12,3996),W(e,"class","web-stories__modal__list__subtext"),n(e,gt,155,10,3936)},m:function(t,n){K(t,e,n),J(e,o),J(o,r)},p:function(t,e){9&e&&i!==(i=t[0][t[3]]?.story_caption+"")&&Z(r,i)},d:function(t){t&&Q(e)}};return G("SvelteRegisterBlock",{block:s,id:Ot.name,type:"if",source:"(155:8) {#if story[activeSlide]?.story_caption}",ctx:t}),s}function Bt(t){let e,o,r,i,s,l=t[0][t[3]]?.external_link?.text+"";const a={c:function(){e=m("div"),o=m("a"),r=h(l),W(o,"href",i=t[0][t[3]]?.external_link?.url),W(o,"target","_blank"),n(o,gt,166,12,4312),W(e,"class",s=`web-stories__modal__list__external-link ${t[0][t[3]]?.external_link?.position??""}`),n(e,gt,161,10,4140)},m:function(t,n){K(t,e,n),J(e,o),J(o,r)},p:function(t,n){9&n&&l!==(l=t[0][t[3]]?.external_link?.text+"")&&Z(r,l),9&n&&i!==(i=t[0][t[3]]?.external_link?.url)&&W(o,"href",i),9&n&&s!==(s=`web-stories__modal__list__external-link ${t[0][t[3]]?.external_link?.position??""}`)&&W(e,"class",s)},d:function(t){t&&Q(e)}};return G("SvelteRegisterBlock",{block:a,id:Bt.name,type:"if",source:"(161:8) {#if story[activeSlide]?.external_link?.url}",ctx:t}),a}function Rt(t){let e,r,i,s,l,a;const c=[vt,xt],u=[];function d(t,e){return t[1]?1:0}r=d(t),i=u[r]=c[r](t);let p=t[2]&&Et(t);const b={c:function(){e=m("div"),i.c(),s=f(),p&&p.c(),l=_(),this.c=o,W(e,"class","web-stories__thumbnails"),n(e,gt,92,0,2105)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,o){K(t,e,o),u[r].m(e,null),K(t,s,o),p&&p.m(t,o),K(t,l,o),a=!0},p:function(t,[o]){let n=r;r=d(t),r===n?u[r].p(t,o):(D(),H(u[n],1,1,(()=>{u[n]=null})),N(),i=u[r],i?i.p(t,o):(i=u[r]=c[r](t),i.c()),P(i,1),i.m(e,null)),t[2]?p?(p.p(t,o),4&o&&P(p,1)):(p=Et(t),p.c(),P(p,1),p.m(l.parentNode,l)):p&&(D(),H(p,1,1,(()=>{p=null})),N())},i:function(t){a||(P(i),P(p),a=!0)},o:function(t){H(i),H(p),a=!1},d:function(t){t&&Q(e),u[r].d(),t&&Q(s),p&&p.d(t),t&&Q(l)}};return G("SvelteRegisterBlock",{block:b,id:Rt.name,type:"component",source:"",ctx:t}),b}function zt(t,e,o){let n,r,i,s,{$$slots:l={},$$scope:a}=e;et("headless-story",l,[]);let{duration:c=ft.delay(c)}=e,{source:u}=e;const d=c;let p;const b=()=>{f(),clearInterval(p),p=setInterval(f,1e3*d)},m=()=>{_(),clearInterval(p),p=setInterval(f,1e3*d)},h=()=>{(new _t).StoryClose(n),o(2,r=!1),o(3,n=0),clearInterval(p)},f=()=>{n!==s.length-1&&(o(3,n+=1),(new _t).StoryChange("next",n))},_=()=>{n>0&&(o(3,n-=1),(new _t).StoryChange("previous",n))},g=t=>{(new _t).StoryOpen(t),o(3,n=t),o(2,r=!0),clearInterval(p),p=setInterval(f,1e3*d)};x((async()=>{o(1,i=!0);const t=u?await ft.getSource(u).finally((()=>{(new _t).StoryLoaded(!0),o(1,i=!1)})):o(1,i=!1);o(0,s=t?.items??[]),clearInterval(p),p=setInterval(f,1e3*d)})),v((()=>{clearInterval(p)})),t.$$.on_mount.push((function(){void 0!==u||"source"in e||t.$$.bound[t.$$.props.source]||console.warn("<headless-story> was created without expected prop 'source'")}));const w=["duration","source"];return Object.keys(e).forEach((t=>{~w.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<headless-story> was created with unknown prop '${t}'`)})),t.$$set=t=>{"duration"in t&&o(9,c=t.duration),"source"in t&&o(10,u=t.source)},t.$capture_state=()=>({onMount:x,onDestroy:v,Controllers:it,Backdrop:at,Loader:dt,Bubble:ht,Config:ft,EventBus:_t,duration:c,source:u,DURATION:d,timer:p,nextStory:b,prevStory:m,closeStory:h,next:f,prev:_,handleClickThumbnail:g,story:s,loading:i,show:r,activeSlide:n}),t.$inject_state=t=>{"duration"in t&&o(9,c=t.duration),"source"in t&&o(10,u=t.source),"timer"in t&&(p=t.timer),"story"in t&&o(0,s=t.story),"loading"in t&&o(1,i=t.loading),"show"in t&&o(2,r=t.show),"activeSlide"in t&&o(3,n=t.activeSlide)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),o(3,n=0),o(2,r=!1),o(1,i=!1),o(0,s=[]),[s,i,r,n,d,b,m,h,g,c,u]}class Tt extends A{constructor(t){super();const e=document.createElement("style");e.textContent="@keyframes progress{0%{width:0}100%{width:100%}}@keyframes loading{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.web-stories{height:100vh;width:100vw;padding:0;background:transparent;position:fixed;left:0;top:0;display:flex;align-items:center;justify-content:center;z-index:1}.web-stories__backdrop{background-color:var(--story-background, rgba(0, 0, 0, 0.85));position:fixed;height:100vh;width:100vw;backdrop-filter:blur(var(--story-blur, 3px));z-index:9}.web-stories__modal{aspect-ratio:var(--story-aspect-ratio, 0.5625);background-color:#3b3b3b;height:var(--story-height, 90vh);position:relative;border-radius:var(--story-border-radius, 16px);z-index:10;max-width:100vw}.web-stories__modal__list{width:100%;height:100%;overflow:hidden;border-radius:var(--story-border-radius, 16px);position:relative}.web-stories__modal__list__gallery{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:calc(100% + 3px);user-select:none;display:flex}.web-stories__modal__list__gallery img,.web-stories__modal__list__gallery video{width:100%}.web-stories__modal__list__subtext{position:absolute;bottom:calc(10px + 0.7vh);left:20px;width:75%}.web-stories__modal__list__subtext span{color:var(--story-caption-color, #fff);font-family:var(--story-caption-font-family, sans-serif);font-size:var(--story-caption-font-size, 1.55vh);font-weight:var(--story-caption-font-weight, 500);text-shadow:0 0 4px var(--story-caption-text-shadow, rgba(0, 0, 0, 0.94));line-height:1.45em;white-space:nowrap;width:100%;display:block;overflow:hidden;text-overflow:ellipsis}.web-stories__modal__list__external-link{position:absolute;bottom:calc(50px + 0.7vh);left:50%;transform:translate(-50%, -50%);background:#fff;padding:7px 15px;border-radius:12px;box-shadow:0 2px 7px rgba(0, 0, 0, 0.54);max-height:15px}.web-stories__modal__list__external-link.bottom{bottom:calc(50px + 0.7vh)}.web-stories__modal__list__external-link.top{top:calc(50px + 0.7vh)}.web-stories__modal__list__external-link.center{top:50%}.web-stories__modal__list__external-link a{text-decoration:none;color:#3b3b3b;font-family:var(--story-caption-font-family, sans-serif);font-size:var(--story-caption-font-size, 1.55vh);font-weight:600;display:flex;align-items:center}.web-stories__modal__list__external-link a:before{content:\"\";background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill='%23000000' height='800px' width='800px' version='1.1' id='Layer_1' viewBox='0 0 511.997 511.997' xml:space='preserve'%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath d='M212.26,390.24l-60.331,60.331c-25.012,25.012-65.517,25.012-90.508,0.005c-24.996-24.996-24.996-65.505-0.005-90.496 l120.683-120.683c24.991-24.992,65.5-24.992,90.491,0c8.331,8.331,21.839,8.331,30.17,0c8.331-8.331,8.331-21.839,0-30.17 c-41.654-41.654-109.177-41.654-150.831,0L31.247,329.909c-41.654,41.654-41.654,109.177,0,150.831 c41.649,41.676,109.177,41.676,150.853,0l60.331-60.331c8.331-8.331,8.331-21.839,0-30.17S220.591,381.909,212.26,390.24z'/%3E%3Cpath d='M480.751,31.24c-41.654-41.654-109.199-41.654-150.853,0l-72.384,72.384c-8.331,8.331-8.331,21.839,0,30.17 c8.331,8.331,21.839,8.331,30.17,0l72.384-72.384c24.991-24.992,65.521-24.992,90.513,0c24.991,24.991,24.991,65.5,0,90.491 L317.845,284.638c-24.992,24.992-65.5,24.992-90.491,0c-8.331-8.331-21.839-8.331-30.17,0s-8.331,21.839,0,30.17 c41.654,41.654,109.177,41.654,150.831,0l132.736-132.736C522.405,140.418,522.405,72.894,480.751,31.24z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");height:15px;width:15px;position:relative;display:flex;background-position:center;background-repeat:no-repeat;background-size:contain;margin-right:5px}.web-stories__modal .web-stories__modal__controllers{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);padding:0 3vw;aspect-ratio:var(--story-aspect-ratio, 0.5625);height:100%;z-index:1;pointer-events:none;box-sizing:border-box}.web-stories__modal .web-stories__modal__controllers-prev,.web-stories__modal .web-stories__modal__controllers-next,.web-stories__modal .web-stories__modal__controllers-close{border:0;background:transparent;appearance:none;outline:none;cursor:pointer;padding:0;margin:0}.web-stories__modal .web-stories__modal__controllers-prev,.web-stories__modal .web-stories__modal__controllers-next{pointer-events:all;position:absolute;z-index:1;min-width:40px;height:calc(100% - 100px);bottom:50px;padding:0;font-size:3vh;width:12vh;color:#fff;-webkit-tap-highlight-color:transparent}@media screen and (max-width: 480px){.web-stories__modal .web-stories__modal__controllers-prev,.web-stories__modal .web-stories__modal__controllers-next{bottom:0}}.web-stories__modal .web-stories__modal__controllers-prev{left:-3vw}.web-stories__modal .web-stories__modal__controllers-next{right:-3vw}.web-stories__modal .web-stories__modal__controllers-close{display:none;position:absolute;bottom:5px;right:10px;width:47%;height:2px;z-index:1;pointer-events:all;left:50%;transform:translateX(-50%);padding:10px 0;z-index:1;pointer-events:all}.web-stories__modal .web-stories__modal__controllers-close:after{position:absolute;content:\" \";height:2px;left:0;bottom:0;width:100%;background-color:#fff;border-radius:12px}@media screen and (max-width: 480px){.web-stories__modal .web-stories__modal__controllers-close{display:block}}.web-stories__modal__progress{position:absolute;top:12px;left:50%;width:95%;height:3px;transform:translateX(-50%);z-index:1;display:flex;gap:5px}.web-stories__modal__progress__bar{background-color:var(--story-progress-background-color, rgba(227, 227, 227, 0.4));flex:1;position:relative;border-radius:12px;box-shadow:0 0 10px 0 rgba(0, 0, 0, 0.5)}.web-stories__modal__progress__bar.animation-filled:before{content:\"\";position:absolute;top:0;height:100%;width:100%;background-color:var(--story-progress-fill-color, rgb(255, 255, 255))}.web-stories__modal__progress__bar.animation-start:before{content:\"\";position:absolute;top:0;height:100%;width:0;background-color:var(--story-progress-fill-color, rgb(255, 255, 255));animation:progress var(--delay) linear;animation-fill-mode:forwards}.web-stories__modal__progress__bar.animation-paused:before{animation-play-state:paused}.web-stories__thumbnails__loader:after{display:flex;align-items:center;justify-content:center;content:var(--loader-text, \"Loading\");height:var(--thumbnail-bubble-size, 90px);font-family:var(--loader-font-family, sans-serif);color:var(--loader-color, #a8a8a8);font-size:var(--loader-font-size, 14px);font-weight:var(--loader-font-weight, 400);margin:7px 0;animation:loading 1s linear infinite}.web-stories__thumbnails .story-bubbles{position:relative;width:100%;height:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;display:flex;align-items:center;justify-content:flex-start}.web-stories__thumbnails .story-bubbles .bubbles{display:inline-flex;align-items:center;position:relative;width:max-content;height:auto}.web-stories__thumbnails .story-bubbles::-webkit-scrollbar-track{background-color:transparent}.web-stories__thumbnails .story-bubbles::-webkit-scrollbar{height:3px;background-color:transparent}.web-stories__thumbnails .story-bubbles::-webkit-scrollbar-thumb{background-color:rgba(255, 255, 255, 0.5)}.web-stories__thumbnails .story-bubbles .bubbles{gap:var(--thumbnail-bubble-gap, 7px)}.bubble{width:var(--thumbnail-bubble-width, 90px);border:0;background:transparent;appearance:none;outline:none;cursor:pointer;padding:0;margin:0}.thumb{width:100%;height:var(--thumbnail-bubble-height, 90px);position:relative;overflow:hidden;background-color:var(--thumbnail-bubble-background, transparent);background-image:var(--thumbnail-bubble-gradient-background, linear-gradient(185deg, transparent 20%, transparent 90%));background-origin:border-box;background-clip:content-box, border-box;border-radius:var(--thumbnail-bubble-border-radius, 16px)}.thumb-img{width:calc(100% - var(--thumbnail-bubble-border-size, 2px) * 2);height:calc(100% - var(--thumbnail-bubble-border-size, 2px) * 2);display:block;object-fit:cover;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);border-radius:var(--thumbnail-bubble-border-radius, 16px)}@media screen and (max-width: 480px){.web-stories__modal{width:100%;height:100%}.web-stories__modal__list{border-radius:0}.web-stories__modal__list__gallery{height:100%;width:100%;position:relative;transform:unset;top:unset;left:unset}.web-stories__modal__list__gallery img,.web-stories__modal__list__gallery video{width:unset;position:absolute;height:100%;left:50%;transform:translateX(-50%)}}",this.shadowRoot.appendChild(e),U(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},zt,Rt,a,{duration:9,source:10},null),t&&(t.target&&K(t.target,this,t.anchor),t.props&&(this.$set(t.props),z()))}static get observedAttributes(){return["duration","source"]}get duration(){return this.$$.ctx[9]}set duration(t){this.$$set({duration:t}),z()}get source(){return this.$$.ctx[10]}set source(t){this.$$set({source:t}),z()}}customElements.define("headless-story",Tt),module.exports=Tt;
