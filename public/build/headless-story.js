!function(t,e){t&&!t.getElementById("livereloadscript")&&((e=t.createElement("script")).async=1,e.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e))}(self.document);var app=function(){"use strict";function t(){}function e(t,e,o,n,r){t.__svelte_meta={loc:{file:e,line:o,column:n,char:r}}}function o(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l,a;function c(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function p(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function m(){return b(" ")}function h(){return b("")}function f(t){const e={};for(const o of t)e[o.name]=o.value;return e}function _(t){a=t}function g(){if(!a)throw new Error("Function called outside component initialization");return a}function w(t){g().$$.on_mount.push(t)}function $(t){g().$$.on_destroy.push(t)}function v(t,e){const o=t.$$.callbacks[e.type];o&&o.slice().forEach((t=>t.call(this,e)))}const x=[],y=[];let k=[];const E=[],S=Promise.resolve();let C=!1;function I(t){k.push(t)}const j=new Set;let O=0;function B(){if(0!==O)return;const t=a;do{try{for(;O<x.length;){const t=x[O];O++,_(t),R(t.$$)}}catch(t){throw x.length=0,O=0,t}for(_(null),x.length=0,O=0;y.length;)y.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];j.has(e)||(j.add(e),e())}k.length=0}while(x.length);for(;E.length;)E.pop()();C=!1,j.clear(),_(t)}function R(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const z=new Set;let T,M;function L(){T={r:0,c:[],p:T}}function A(){T.r||r(T.c),T=T.p}function D(t,e){t&&t.i&&(z.delete(t),t.i(e))}function N(t,e,o,n){if(t&&t.o){if(z.has(t))return;z.add(t),T.c.push((()=>{z.delete(t),n&&(o&&t.d(1),n())})),t.o(e)}else n&&n()}function P(t){t&&t.c()}function H(t,e,n,s){const{fragment:l,after_update:a}=t.$$;l&&l.m(e,n),s||I((()=>{const e=t.$$.on_mount.map(o).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(I)}function X(t,e){const o=t.$$;null!==o.fragment&&(!function(t){const e=[],o=[];k.forEach((n=>-1===t.indexOf(n)?e.push(n):o.push(n))),o.forEach((t=>t())),k=e}(o.after_update),r(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Y(t,e){-1===t.$$.dirty[0]&&(x.push(t),C||(C=!0,S.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,o,i,s,l,c,d,p=[-1]){const b=a;_(e);const m=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(b?b.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:o.target||b.$$.root};d&&d(m.root);let h=!1;if(m.ctx=i?i(e,o.props||{},((t,o,...n)=>{const r=n.length?n[0]:o;return m.ctx&&l(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),h&&Y(e,t)),o})):[],m.update(),h=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();o.intro&&D(e.$$.fragment),H(e,o.target,o.anchor,o.customElement),B()}_(b)}function F(t,e){document.dispatchEvent(function(t,e,{bubbles:o=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,o,n,e),r}(t,Object.assign({version:"3.58.0"},e),{bubbles:!0}))}function U(t,e){F("SvelteDOMInsert",{target:t,node:e}),function(t,e){t.appendChild(e)}(t,e)}function G(t,e,o){F("SvelteDOMInsert",{target:t,node:e,anchor:o}),function(t,e,o){t.insertBefore(e,o||null)}(t,e,o)}function J(t){F("SvelteDOMRemove",{node:t}),u(t)}function K(t,e,o,n,r,i,s){const l=!0===n?["capture"]:n?Array.from(Object.keys(n)):[];r&&l.push("preventDefault"),i&&l.push("stopPropagation"),s&&l.push("stopImmediatePropagation"),F("SvelteDOMAddEventListener",{node:t,event:e,handler:o,modifiers:l});const a=function(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}(t,e,o,n);return()=>{F("SvelteDOMRemoveEventListener",{node:t,event:e,handler:o,modifiers:l}),a()}}function Q(t,e,o){!function(t,e,o){null==o?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}(t,e,o),null==o?F("SvelteDOMRemoveAttribute",{node:t,attribute:e}):F("SvelteDOMSetAttribute",{node:t,attribute:e,value:o})}function V(t,e){e=""+e,t.data!==e&&(F("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function W(t){if(!("string"==typeof t||t&&"object"==typeof t&&"length"in t)){let e="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&t&&Symbol.iterator in t&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function Z(t,e,o){for(const n of Object.keys(e))~o.indexOf(n)||console.warn(`<${t}> received an unexpected slot "${n}".`)}"function"==typeof HTMLElement&&(M=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(o).filter(i);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,o){this[t]=o}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){X(this,1),this.$destroy=t}$on(e,o){if(!i(o))return t;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const t=n.indexOf(o);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});const tt="src/webcomponent/components/ModalControllers/controllers.svelte";function et(o){let n,s,l,a,c,u,d,b;const h={c:function(){n=p("div"),s=p("button"),l=m(),a=p("button"),c=m(),u=p("button"),this.c=t,Q(s,"class","web-stories__modal__controllers-prev"),e(s,tt,9,2,203),Q(a,"class","web-stories__modal__controllers-next"),e(a,tt,10,2,277),Q(u,"class","web-stories__modal__controllers-close"),e(u,tt,11,2,351),Q(n,"class","web-stories__modal__controllers"),e(n,tt,8,0,155)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){G(t,n,e),U(n,s),U(n,l),U(n,a),U(n,c),U(n,u),d||(b=[K(s,"click",(function(){i(o[0])&&o[0].apply(this,arguments)}),!1,!1,!1,!1),K(a,"click",(function(){i(o[1])&&o[1].apply(this,arguments)}),!1,!1,!1,!1),K(u,"click",(function(){i(o[2])&&o[2].apply(this,arguments)}),!1,!1,!1,!1)],d=!0)},p:function(t,[e]){o=t},i:t,o:t,d:function(t){t&&J(n),d=!1,r(b)}};return F("SvelteRegisterBlock",{block:h,id:et.name,type:"component",source:"",ctx:o}),h}function ot(t,e,o){let{$$slots:n={},$$scope:r}=e;Z("modal-controllers",n,[]);let{prev:i=(()=>{})}=e,{next:s=(()=>{})}=e,{close:l=(()=>{})}=e;const a=["prev","next","close"];return Object.keys(e).forEach((t=>{~a.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<modal-controllers> was created with unknown prop '${t}'`)})),t.$$set=t=>{"prev"in t&&o(0,i=t.prev),"next"in t&&o(1,s=t.next),"close"in t&&o(2,l=t.close)},t.$capture_state=()=>({prev:i,next:s,close:l}),t.$inject_state=t=>{"prev"in t&&o(0,i=t.prev),"next"in t&&o(1,s=t.next),"close"in t&&o(2,l=t.close)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,s,l]}class nt extends M{constructor(t){super(),q(this,{target:this.shadowRoot,props:f(this.attributes),customElement:!0},ot,et,s,{prev:0,next:1,close:2},null),t&&(t.target&&G(t.target,this,t.anchor),t.props&&(this.$set(t.props),B()))}static get observedAttributes(){return["prev","next","close"]}get prev(){return this.$$.ctx[0]}set prev(t){this.$$set({prev:t}),B()}get next(){return this.$$.ctx[1]}set next(t){this.$$set({next:t}),B()}get close(){return this.$$.ctx[2]}set close(t){this.$$set({close:t}),B()}}customElements.define("modal-controllers",nt);function rt(o){let n,s,l;const a={c:function(){n=p("div"),this.c=t,Q(n,"class","web-stories__backdrop"),Q(n,"tabindex",-1),Q(n,"role","button"),e(n,"src/webcomponent/components/ModalBackdrop/backdrop.svelte",6,0,92)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){G(t,n,e),s||(l=[K(n,"click",(function(){i(o[0])&&o[0].apply(this,arguments)}),!1,!1,!1,!1),K(n,"keydown",o[1],!1,!1,!1,!1)],s=!0)},p:function(t,[e]){o=t},i:t,o:t,d:function(t){t&&J(n),s=!1,r(l)}};return F("SvelteRegisterBlock",{block:a,id:rt.name,type:"component",source:"",ctx:o}),a}function it(t,e,o){let{$$slots:n={},$$scope:r}=e;Z("modal-backdrop",n,[]);let{close:i=(()=>{})}=e;const s=["close"];return Object.keys(e).forEach((t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<modal-backdrop> was created with unknown prop '${t}'`)})),t.$$set=t=>{"close"in t&&o(0,i=t.close)},t.$capture_state=()=>({close:i}),t.$inject_state=t=>{"close"in t&&o(0,i=t.close)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,function(e){v.call(this,t,e)}]}class st extends M{constructor(t){super(),q(this,{target:this.shadowRoot,props:f(this.attributes),customElement:!0},it,rt,s,{close:0},null),t&&(t.target&&G(t.target,this,t.anchor),t.props&&(this.$set(t.props),B()))}static get observedAttributes(){return["close"]}get close(){return this.$$.ctx[0]}set close(t){this.$$set({close:t}),B()}}customElements.define("modal-backdrop",st);function lt(o){let n;const r={c:function(){n=p("div"),this.c=t,Q(n,"class","web-stories__thumbnails__loader"),e(n,"src/webcomponent/components/Loader/loader.svelte",2,0,39)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){G(t,n,e)},p:t,i:t,o:t,d:function(t){t&&J(n)}};return F("SvelteRegisterBlock",{block:r,id:lt.name,type:"component",source:"",ctx:o}),r}function at(t,e){let{$$slots:o={},$$scope:n}=e;Z("modal-loader",o,[]);const r=[];return Object.keys(e).forEach((t=>{~r.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<modal-loader> was created with unknown prop '${t}'`)})),[]}class ct extends M{constructor(t){super(),q(this,{target:this.shadowRoot,props:f(this.attributes),customElement:!0},at,lt,s,{},null),t&&t.target&&G(t.target,this,t.anchor)}}customElements.define("modal-loader",ct);const ut="src/webcomponent/components/Bubble/bubble.svelte";function dt(o){let n,r,i,s,l,a,u;const d={c:function(){n=p("button"),r=p("div"),i=p("img"),this.c=t,Q(i,"class","thumb-img"),c(i.src,s=o[2])||Q(i,"src",s),Q(i,"alt",l=o[3]??`Story Photo ${o[0]}`),e(i,ut,11,4,278),Q(r,"class","thumb"),e(r,ut,10,2,254),Q(n,"class","bubble"),e(n,ut,9,0,187)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){G(t,n,e),U(n,r),U(r,i),a||(u=K(n,"click",o[4],!1,!1,!1,!1),a=!0)},p:function(t,[e]){4&e&&!c(i.src,s=t[2])&&Q(i,"src",s),9&e&&l!==(l=t[3]??`Story Photo ${t[0]}`)&&Q(i,"alt",l)},i:t,o:t,d:function(t){t&&J(n),a=!1,u()}};return F("SvelteRegisterBlock",{block:d,id:dt.name,type:"component",source:"",ctx:o}),d}function pt(t,e,o){let{$$slots:n={},$$scope:r}=e;Z("thumbnail-bubble",n,[]);let{index:i=0}=e,{onClickThumbnail:s=(()=>{})}=e,{thumbImage:l=""}=e,{altImage:a=""}=e;const c=["index","onClickThumbnail","thumbImage","altImage"];Object.keys(e).forEach((t=>{~c.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<thumbnail-bubble> was created with unknown prop '${t}'`)}));return t.$$set=t=>{"index"in t&&o(0,i=t.index),"onClickThumbnail"in t&&o(1,s=t.onClickThumbnail),"thumbImage"in t&&o(2,l=t.thumbImage),"altImage"in t&&o(3,a=t.altImage)},t.$capture_state=()=>({index:i,onClickThumbnail:s,thumbImage:l,altImage:a}),t.$inject_state=t=>{"index"in t&&o(0,i=t.index),"onClickThumbnail"in t&&o(1,s=t.onClickThumbnail),"thumbImage"in t&&o(2,l=t.thumbImage),"altImage"in t&&o(3,a=t.altImage)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,s,l,a,()=>s(i)]}class bt extends M{constructor(t){super(),q(this,{target:this.shadowRoot,props:f(this.attributes),customElement:!0},pt,dt,s,{index:0,onClickThumbnail:1,thumbImage:2,altImage:3},null),t&&(t.target&&G(t.target,this,t.anchor),t.props&&(this.$set(t.props),B()))}static get observedAttributes(){return["index","onClickThumbnail","thumbImage","altImage"]}get index(){return this.$$.ctx[0]}set index(t){this.$$set({index:t}),B()}get onClickThumbnail(){return this.$$.ctx[1]}set onClickThumbnail(t){this.$$set({onClickThumbnail:t}),B()}get thumbImage(){return this.$$.ctx[2]}set thumbImage(t){this.$$set({thumbImage:t}),B()}get altImage(){return this.$$.ctx[3]}set altImage(t){this.$$set({altImage:t}),B()}}customElements.define("thumbnail-bubble",bt);var mt={delay:t=>Number(t)??2,getSource:async t=>{const e=await fetch(t);return await e.json()}};class ht{StoryChange(t,e){const o=new CustomEvent("StoryChange",{detail:{direction:t,currentIndex:e}});window.dispatchEvent(o)}StoryOpen(t){const e=new CustomEvent("StoryOpen",{detail:{currentIndex:t}});window.dispatchEvent(e)}StoryClose(t){const e=new CustomEvent("StoryClose",{detail:{currentIndex:t}});window.dispatchEvent(e)}StoryLoaded(t){const e=new CustomEvent("StoryLoaded",{detail:{loaded:t}});window.dispatchEvent(e)}}const ft="src/webcomponent/story.svelte";function _t(t,e,o){const n=t.slice();return n[14]=e[o],n[16]=o,n}function gt(t,e,o){const n=t.slice();return n[14]=e[o],n[16]=o,n}function wt(e){let o,n;o=new ct({$$inline:!0});const r={c:function(){P(o.$$.fragment)},m:function(t,e){H(o,t,e),n=!0},p:t,i:function(t){n||(D(o.$$.fragment,t),n=!0)},o:function(t){N(o.$$.fragment,t),n=!1},d:function(t){X(o,t)}};return F("SvelteRegisterBlock",{block:r,id:wt.name,type:"else",source:"(109:2) {:else}",ctx:e}),r}function $t(t){let o,n,r,i=t[0];W(i);let s=[];for(let e=0;e<i.length;e+=1)s[e]=xt(gt(t,i,e));const l=t=>N(s[t],1,1,(()=>{s[t]=null})),a={c:function(){o=p("div"),n=p("div");for(let t=0;t<s.length;t+=1)s[t].c();Q(n,"class","bubbles"),e(n,ft,95,6,2198),Q(o,"class","story-bubbles"),e(o,ft,94,4,2164)},m:function(t,e){G(t,o,e),U(o,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,null);r=!0},p:function(t,e){if(257&e){let o;for(i=t[0],W(i),o=0;o<i.length;o+=1){const r=gt(t,i,o);s[o]?(s[o].p(r,e),D(s[o],1)):(s[o]=xt(r),s[o].c(),D(s[o],1),s[o].m(n,null))}for(L(),o=i.length;o<s.length;o+=1)l(o);A()}},i:function(t){if(!r){for(let t=0;t<i.length;t+=1)D(s[t]);r=!0}},o:function(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)N(s[t]);r=!1},d:function(t){t&&J(o),d(s,t)}};return F("SvelteRegisterBlock",{block:a,id:$t.name,type:"if",source:"(94:2) {#if !loading}",ctx:t}),a}function vt(t){let e,o;e=new bt({props:{index:t[16],onClickThumbnail:t[8],thumbImage:t[0][t[16]]?.thumb_image,altImage:t[0][t[16]]?.image_alt},$$inline:!0});const n={c:function(){P(e.$$.fragment)},m:function(t,n){H(e,t,n),o=!0},p:function(t,o){const n={};1&o&&(n.thumbImage=t[0][t[16]]?.thumb_image),1&o&&(n.altImage=t[0][t[16]]?.image_alt),e.$set(n)},i:function(t){o||(D(e.$$.fragment,t),o=!0)},o:function(t){N(e.$$.fragment,t),o=!1},d:function(t){X(e,t)}};return F("SvelteRegisterBlock",{block:n,id:vt.name,type:"if",source:"(98:10) {#if story[i]?.thumb_image}",ctx:t}),n}function xt(t){let e,o,n=t[0][t[16]]?.thumb_image&&vt(t);const r={c:function(){n&&n.c(),e=h()},m:function(t,r){n&&n.m(t,r),G(t,e,r),o=!0},p:function(t,o){t[0][t[16]]?.thumb_image?n?(n.p(t,o),1&o&&D(n,1)):(n=vt(t),n.c(),D(n,1),n.m(e.parentNode,e)):n&&(L(),N(n,1,1,(()=>{n=null})),A())},i:function(t){o||(D(n),o=!0)},o:function(t){N(n),o=!1},d:function(t){n&&n.d(t),t&&J(e)}};return F("SvelteRegisterBlock",{block:r,id:xt.name,type:"each",source:"(97:8) {#each story as photo, i}",ctx:t}),r}function yt(t){let o,n,r,i,s,l,a,c,u,b,h,f,_,g=t[0];W(g);let w=[];for(let e=0;e<g.length;e+=1)w[e]=kt(_t(t,g,e));let $=t[0][t[3]]?.story_image&&Et(t),v=t[0][t[3]]?.story_caption&&It(t),x=t[0][t[3]]?.external_link?.url&&jt(t);b=new nt({props:{prev:t[6],next:t[5],close:t[7]},$$inline:!0}),f=new st({props:{close:t[7]},$$inline:!0});const y={c:function(){o=p("div"),n=p("div"),r=p("div");for(let t=0;t<w.length;t+=1)w[t].c();i=m(),s=p("div"),l=p("div"),$&&$.c(),a=m(),v&&v.c(),c=m(),x&&x.c(),u=m(),P(b.$$.fragment),h=m(),P(f.$$.fragment),Q(r,"class","web-stories__modal__progress"),Q(r,"style",`--delay:${t[4]}s;`),e(r,ft,116,6,2678),Q(l,"class","web-stories__modal__list__gallery"),e(l,ft,132,8,3145),Q(s,"class","web-stories__modal__list"),e(s,ft,131,6,3098),Q(n,"class","web-stories__modal"),e(n,ft,115,4,2639),Q(o,"class","web-stories"),e(o,ft,114,2,2609)},m:function(t,e){G(t,o,e),U(o,n),U(n,r);for(let t=0;t<w.length;t+=1)w[t]&&w[t].m(r,null);U(n,i),U(n,s),U(s,l),$&&$.m(l,null),U(s,a),v&&v.m(s,null),U(s,c),x&&x.m(s,null),U(n,u),H(b,n,null),U(o,h),H(f,o,null),_=!0},p:function(t,e){if(9&e){let o;for(g=t[0],W(g),o=0;o<g.length;o+=1){const n=_t(t,g,o);w[o]?w[o].p(n,e):(w[o]=kt(n),w[o].c(),w[o].m(r,null))}for(;o<w.length;o+=1)w[o].d(1);w.length=g.length}t[0][t[3]]?.story_image?$?$.p(t,e):($=Et(t),$.c(),$.m(l,null)):$&&($.d(1),$=null),t[0][t[3]]?.story_caption?v?v.p(t,e):(v=It(t),v.c(),v.m(s,c)):v&&(v.d(1),v=null),t[0][t[3]]?.external_link?.url?x?x.p(t,e):(x=jt(t),x.c(),x.m(s,null)):x&&(x.d(1),x=null)},i:function(t){_||(D(b.$$.fragment,t),D(f.$$.fragment,t),_=!0)},o:function(t){N(b.$$.fragment,t),N(f.$$.fragment,t),_=!1},d:function(t){t&&J(o),d(w,t),$&&$.d(),v&&v.d(),x&&x.d(),X(b),X(f)}};return F("SvelteRegisterBlock",{block:y,id:yt.name,type:"if",source:"(114:0) {#if show}",ctx:t}),y}function kt(t){let o,n;const r={c:function(){o=p("div"),Q(o,"class",n="web-stories__modal__progress__bar \n            "+(t[16]===t[3]?"animation-start":t[16]<=t[3]?"animation-filled":"")),e(o,ft,118,10,2797)},m:function(t,e){G(t,o,e)},p:function(t,e){8&e&&n!==(n="web-stories__modal__progress__bar \n            "+(t[16]===t[3]?"animation-start":t[16]<=t[3]?"animation-filled":""))&&Q(o,"class",n)},d:function(t){t&&J(o)}};return F("SvelteRegisterBlock",{block:r,id:kt.name,type:"each",source:"(118:8) {#each story as photo, i}",ctx:t}),r}function Et(t){let e;function o(t,e){return"video"===t[0][t[3]]?.type?Ct:St}let n=o(t),r=n(t);const i={c:function(){r.c(),e=h()},m:function(t,o){r.m(t,o),G(t,e,o)},p:function(t,i){n===(n=o(t))&&r?r.p(t,i):(r.d(1),r=n(t),r&&(r.c(),r.m(e.parentNode,e)))},d:function(t){r.d(t),t&&J(e)}};return F("SvelteRegisterBlock",{block:i,id:Et.name,type:"if",source:"(134:10) {#if story[activeSlide]?.story_image}",ctx:t}),i}function St(t){let o,n,r;const i={c:function(){o=p("img"),Q(o,"data-src",""),c(o.src,n=t[0][t[3]]?.story_image)||Q(o,"src",n),Q(o,"alt",r=t[0][t[3]]?.alt_text??`Story Photo ${t[3]}`),e(o,ft,144,14,3623)},m:function(t,e){G(t,o,e)},p:function(t,e){9&e&&!c(o.src,n=t[0][t[3]]?.story_image)&&Q(o,"src",n),9&e&&r!==(r=t[0][t[3]]?.alt_text??`Story Photo ${t[3]}`)&&Q(o,"alt",r)},d:function(t){t&&J(o)}};return F("SvelteRegisterBlock",{block:i,id:St.name,type:"else",source:"(144:12) {:else}",ctx:t}),i}function Ct(t){let o,n,r,i,s;const l={c:function(){o=p("video"),n=p("track"),r=p("source"),s=b("\n                Your browser does not support HTML video."),Q(n,"kind","captions"),e(n,ft,136,16,3348),c(r.src,i=t[0][t[3]]?.story_image)||Q(r,"src",i),Q(r,"type","video/mp4"),e(r,ft,137,16,3390),o.autoplay=!0,o.loop=!0,e(o,ft,135,14,3310)},m:function(t,e){G(t,o,e),U(o,n),U(o,r),U(o,s)},p:function(t,e){9&e&&!c(r.src,i=t[0][t[3]]?.story_image)&&Q(r,"src",i)},d:function(t){t&&J(o)}};return F("SvelteRegisterBlock",{block:l,id:Ct.name,type:"if",source:'(135:12) {#if story[activeSlide]?.type === \\"video\\"}',ctx:t}),l}function It(t){let o,n,r,i=t[0][t[3]]?.story_caption+"";const s={c:function(){o=p("div"),n=p("span"),r=b(i),e(n,ft,156,12,3996),Q(o,"class","web-stories__modal__list__subtext"),e(o,ft,155,10,3936)},m:function(t,e){G(t,o,e),U(o,n),U(n,r)},p:function(t,e){9&e&&i!==(i=t[0][t[3]]?.story_caption+"")&&V(r,i)},d:function(t){t&&J(o)}};return F("SvelteRegisterBlock",{block:s,id:It.name,type:"if",source:"(155:8) {#if story[activeSlide]?.story_caption}",ctx:t}),s}function jt(t){let o,n,r,i,s,l=t[0][t[3]]?.external_link?.text+"";const a={c:function(){o=p("div"),n=p("a"),r=b(l),Q(n,"href",i=t[0][t[3]]?.external_link?.url),Q(n,"target","_blank"),e(n,ft,166,12,4312),Q(o,"class",s=`web-stories__modal__list__external-link ${t[0][t[3]]?.external_link?.position??""}`),e(o,ft,161,10,4140)},m:function(t,e){G(t,o,e),U(o,n),U(n,r)},p:function(t,e){9&e&&l!==(l=t[0][t[3]]?.external_link?.text+"")&&V(r,l),9&e&&i!==(i=t[0][t[3]]?.external_link?.url)&&Q(n,"href",i),9&e&&s!==(s=`web-stories__modal__list__external-link ${t[0][t[3]]?.external_link?.position??""}`)&&Q(o,"class",s)},d:function(t){t&&J(o)}};return F("SvelteRegisterBlock",{block:a,id:jt.name,type:"if",source:"(161:8) {#if story[activeSlide]?.external_link?.url}",ctx:t}),a}function Ot(o){let n,r,i,s,l,a;const c=[$t,wt],u=[];function d(t,e){return t[1]?1:0}r=d(o),i=u[r]=c[r](o);let b=o[2]&&yt(o);const f={c:function(){n=p("div"),i.c(),s=m(),b&&b.c(),l=h(),this.c=t,Q(n,"class","web-stories__thumbnails"),e(n,ft,92,0,2105)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){G(t,n,e),u[r].m(n,null),G(t,s,e),b&&b.m(t,e),G(t,l,e),a=!0},p:function(t,[e]){let o=r;r=d(t),r===o?u[r].p(t,e):(L(),N(u[o],1,1,(()=>{u[o]=null})),A(),i=u[r],i?i.p(t,e):(i=u[r]=c[r](t),i.c()),D(i,1),i.m(n,null)),t[2]?b?(b.p(t,e),4&e&&D(b,1)):(b=yt(t),b.c(),D(b,1),b.m(l.parentNode,l)):b&&(L(),N(b,1,1,(()=>{b=null})),A())},i:function(t){a||(D(i),D(b),a=!0)},o:function(t){N(i),N(b),a=!1},d:function(t){t&&J(n),u[r].d(),t&&J(s),b&&b.d(t),t&&J(l)}};return F("SvelteRegisterBlock",{block:f,id:Ot.name,type:"component",source:"",ctx:o}),f}function Bt(t,e,o){let n,r,i,s,{$$slots:l={},$$scope:a}=e;Z("headless-story",l,[]);let{duration:c=mt.delay(c)}=e,{source:u}=e;const d=c;let p;const b=()=>{f(),clearInterval(p),p=setInterval(f,1e3*d)},m=()=>{_(),clearInterval(p),p=setInterval(f,1e3*d)},h=()=>{(new ht).StoryClose(n),o(2,r=!1),o(3,n=0),clearInterval(p)},f=()=>{n!==s.length-1&&(o(3,n+=1),(new ht).StoryChange("next",n))},_=()=>{n>0&&(o(3,n-=1),(new ht).StoryChange("previous",n))},g=t=>{(new ht).StoryOpen(t),o(3,n=t),o(2,r=!0),clearInterval(p),p=setInterval(f,1e3*d)};w((async()=>{o(1,i=!0);const t=u?await mt.getSource(u).finally((()=>{(new ht).StoryLoaded(!0),o(1,i=!1)})):o(1,i=!1);o(0,s=t?.items??[]),clearInterval(p),p=setInterval(f,1e3*d)})),$((()=>{clearInterval(p)})),t.$$.on_mount.push((function(){void 0!==u||"source"in e||t.$$.bound[t.$$.props.source]||console.warn("<headless-story> was created without expected prop 'source'")}));const v=["duration","source"];return Object.keys(e).forEach((t=>{~v.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<headless-story> was created with unknown prop '${t}'`)})),t.$$set=t=>{"duration"in t&&o(9,c=t.duration),"source"in t&&o(10,u=t.source)},t.$capture_state=()=>({onMount:w,onDestroy:$,Controllers:nt,Backdrop:st,Loader:ct,Bubble:bt,Config:mt,EventBus:ht,duration:c,source:u,DURATION:d,timer:p,nextStory:b,prevStory:m,closeStory:h,next:f,prev:_,handleClickThumbnail:g,story:s,loading:i,show:r,activeSlide:n}),t.$inject_state=t=>{"duration"in t&&o(9,c=t.duration),"source"in t&&o(10,u=t.source),"timer"in t&&(p=t.timer),"story"in t&&o(0,s=t.story),"loading"in t&&o(1,i=t.loading),"show"in t&&o(2,r=t.show),"activeSlide"in t&&o(3,n=t.activeSlide)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),o(3,n=0),o(2,r=!1),o(1,i=!1),o(0,s=[]),[s,i,r,n,d,b,m,h,g,c,u]}class Rt extends M{constructor(t){super();const e=document.createElement("style");e.textContent="@keyframes progress{0%{width:0}100%{width:100%}}@keyframes loading{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.web-stories{height:100vh;width:100vw;padding:0;background:transparent;position:fixed;left:0;top:0;display:flex;align-items:center;justify-content:center;z-index:1}.web-stories__backdrop{background-color:var(--story-background, rgba(0, 0, 0, 0.85));position:fixed;height:100vh;width:100vw;backdrop-filter:blur(var(--story-blur, 3px));z-index:9}.web-stories__modal{aspect-ratio:var(--story-aspect-ratio, 0.5625);background-color:#3b3b3b;height:var(--story-height, 90vh);position:relative;border-radius:var(--story-border-radius, 16px);z-index:10;max-width:100vw}.web-stories__modal__list{width:100%;height:100%;overflow:hidden;border-radius:var(--story-border-radius, 16px);position:relative}.web-stories__modal__list__gallery{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:calc(100% + 3px);user-select:none;display:flex}.web-stories__modal__list__gallery img,.web-stories__modal__list__gallery video{width:100%}.web-stories__modal__list__subtext{position:absolute;bottom:calc(10px + 0.7vh);left:20px;width:75%}.web-stories__modal__list__subtext span{color:var(--story-caption-color, #fff);font-family:var(--story-caption-font-family, sans-serif);font-size:var(--story-caption-font-size, 1.55vh);font-weight:var(--story-caption-font-weight, 500);text-shadow:0 0 4px var(--story-caption-text-shadow, rgba(0, 0, 0, 0.94));line-height:1.45em;white-space:nowrap;width:100%;display:block;overflow:hidden;text-overflow:ellipsis}.web-stories__modal__list__external-link{position:absolute;bottom:calc(50px + 0.7vh);left:50%;transform:translate(-50%, -50%);background:#fff;padding:7px 15px;border-radius:12px;box-shadow:0 2px 7px rgba(0, 0, 0, 0.54);max-height:15px}.web-stories__modal__list__external-link.bottom{bottom:calc(50px + 0.7vh)}.web-stories__modal__list__external-link.top{top:calc(50px + 0.7vh)}.web-stories__modal__list__external-link.center{top:50%}.web-stories__modal__list__external-link a{text-decoration:none;color:#3b3b3b;font-family:var(--story-caption-font-family, sans-serif);font-size:var(--story-caption-font-size, 1.55vh);font-weight:600;display:flex;align-items:center}.web-stories__modal__list__external-link a:before{content:\"\";background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill='%23000000' height='800px' width='800px' version='1.1' id='Layer_1' viewBox='0 0 511.997 511.997' xml:space='preserve'%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath d='M212.26,390.24l-60.331,60.331c-25.012,25.012-65.517,25.012-90.508,0.005c-24.996-24.996-24.996-65.505-0.005-90.496 l120.683-120.683c24.991-24.992,65.5-24.992,90.491,0c8.331,8.331,21.839,8.331,30.17,0c8.331-8.331,8.331-21.839,0-30.17 c-41.654-41.654-109.177-41.654-150.831,0L31.247,329.909c-41.654,41.654-41.654,109.177,0,150.831 c41.649,41.676,109.177,41.676,150.853,0l60.331-60.331c8.331-8.331,8.331-21.839,0-30.17S220.591,381.909,212.26,390.24z'/%3E%3Cpath d='M480.751,31.24c-41.654-41.654-109.199-41.654-150.853,0l-72.384,72.384c-8.331,8.331-8.331,21.839,0,30.17 c8.331,8.331,21.839,8.331,30.17,0l72.384-72.384c24.991-24.992,65.521-24.992,90.513,0c24.991,24.991,24.991,65.5,0,90.491 L317.845,284.638c-24.992,24.992-65.5,24.992-90.491,0c-8.331-8.331-21.839-8.331-30.17,0s-8.331,21.839,0,30.17 c41.654,41.654,109.177,41.654,150.831,0l132.736-132.736C522.405,140.418,522.405,72.894,480.751,31.24z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");height:15px;width:15px;position:relative;display:flex;background-position:center;background-repeat:no-repeat;background-size:contain;margin-right:5px}.web-stories__modal .web-stories__modal__controllers{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);padding:0 3vw;aspect-ratio:var(--story-aspect-ratio, 0.5625);height:100%;z-index:1;pointer-events:none;box-sizing:border-box}.web-stories__modal .web-stories__modal__controllers-prev,.web-stories__modal .web-stories__modal__controllers-next,.web-stories__modal .web-stories__modal__controllers-close{border:0;background:transparent;appearance:none;outline:none;cursor:pointer;padding:0;margin:0}.web-stories__modal .web-stories__modal__controllers-prev,.web-stories__modal .web-stories__modal__controllers-next{pointer-events:all;position:absolute;z-index:1;min-width:40px;height:calc(100% - 100px);bottom:50px;padding:0;font-size:3vh;width:12vh;color:#fff;-webkit-tap-highlight-color:transparent}@media screen and (max-width: 480px){.web-stories__modal .web-stories__modal__controllers-prev,.web-stories__modal .web-stories__modal__controllers-next{bottom:0}}.web-stories__modal .web-stories__modal__controllers-prev{left:-3vw}.web-stories__modal .web-stories__modal__controllers-next{right:-3vw}.web-stories__modal .web-stories__modal__controllers-close{display:none;position:absolute;bottom:5px;right:10px;width:47%;height:2px;z-index:1;pointer-events:all;left:50%;transform:translateX(-50%);padding:10px 0;z-index:1;pointer-events:all}.web-stories__modal .web-stories__modal__controllers-close:after{position:absolute;content:\" \";height:2px;left:0;bottom:0;width:100%;background-color:#fff;border-radius:12px}@media screen and (max-width: 480px){.web-stories__modal .web-stories__modal__controllers-close{display:block}}.web-stories__modal__progress{position:absolute;top:12px;left:50%;width:95%;height:3px;transform:translateX(-50%);z-index:1;display:flex;gap:5px}.web-stories__modal__progress__bar{background-color:var(--story-progress-background-color, rgba(227, 227, 227, 0.4));flex:1;position:relative;border-radius:12px;box-shadow:0 0 10px 0 rgba(0, 0, 0, 0.5)}.web-stories__modal__progress__bar.animation-filled:before{content:\"\";position:absolute;top:0;height:100%;width:100%;background-color:var(--story-progress-fill-color, rgb(255, 255, 255))}.web-stories__modal__progress__bar.animation-start:before{content:\"\";position:absolute;top:0;height:100%;width:0;background-color:var(--story-progress-fill-color, rgb(255, 255, 255));animation:progress var(--delay) linear;animation-fill-mode:forwards}.web-stories__modal__progress__bar.animation-paused:before{animation-play-state:paused}.web-stories__thumbnails__loader:after{display:flex;align-items:center;justify-content:center;content:var(--loader-text, \"Loading\");height:var(--thumbnail-bubble-size, 90px);font-family:var(--loader-font-family, sans-serif);color:var(--loader-color, #a8a8a8);font-size:var(--loader-font-size, 14px);font-weight:var(--loader-font-weight, 400);margin:7px 0;animation:loading 1s linear infinite}.web-stories__thumbnails .story-bubbles{position:relative;width:100%;height:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;display:flex;align-items:center;justify-content:flex-start}.web-stories__thumbnails .story-bubbles .bubbles{display:inline-flex;align-items:center;position:relative;width:max-content;height:auto}.web-stories__thumbnails .story-bubbles::-webkit-scrollbar-track{background-color:transparent}.web-stories__thumbnails .story-bubbles::-webkit-scrollbar{height:3px;background-color:transparent}.web-stories__thumbnails .story-bubbles::-webkit-scrollbar-thumb{background-color:rgba(255, 255, 255, 0.5)}.web-stories__thumbnails .story-bubbles .bubbles{gap:var(--thumbnail-bubble-gap, 7px)}.bubble{width:var(--thumbnail-bubble-width, 90px);border:0;background:transparent;appearance:none;outline:none;cursor:pointer;padding:0;margin:0}.thumb{width:100%;height:var(--thumbnail-bubble-height, 90px);position:relative;overflow:hidden;background-color:var(--thumbnail-bubble-background, transparent);background-image:var(--thumbnail-bubble-gradient-background, linear-gradient(185deg, transparent 20%, transparent 90%));background-origin:border-box;background-clip:content-box, border-box;border-radius:var(--thumbnail-bubble-border-radius, 16px)}.thumb-img{width:calc(100% - var(--thumbnail-bubble-border-size, 2px) * 2);height:calc(100% - var(--thumbnail-bubble-border-size, 2px) * 2);display:block;object-fit:cover;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);border-radius:var(--thumbnail-bubble-border-radius, 16px)}@media screen and (max-width: 480px){.web-stories__modal{width:100%;height:100%}.web-stories__modal__list{border-radius:0}.web-stories__modal__list__gallery{height:100%;width:100%;position:relative;transform:unset;top:unset;left:unset}.web-stories__modal__list__gallery img,.web-stories__modal__list__gallery video{width:unset;position:absolute;height:100%;left:50%;transform:translateX(-50%)}}",this.shadowRoot.appendChild(e),q(this,{target:this.shadowRoot,props:f(this.attributes),customElement:!0},Bt,Ot,s,{duration:9,source:10},null),t&&(t.target&&G(t.target,this,t.anchor),t.props&&(this.$set(t.props),B()))}static get observedAttributes(){return["duration","source"]}get duration(){return this.$$.ctx[9]}set duration(t){this.$$set({duration:t}),B()}get source(){return this.$$.ctx[10]}set source(t){this.$$set({source:t}),B()}}return customElements.define("headless-story",Rt),Rt}();
//# sourceMappingURL=headless-story.js.map
